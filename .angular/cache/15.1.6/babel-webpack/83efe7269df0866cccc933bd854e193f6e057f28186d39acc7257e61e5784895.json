{"ast":null,"code":"import { FormGroup, Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/flex-layout/flex\";\nimport * as i4 from \"@angular/material/card\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/input\";\nfunction HomeComponent_h1_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.title);\n  }\n}\nfunction HomeComponent_h1_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.resultTitle);\n  }\n}\nfunction HomeComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 8);\n    i0.ɵɵtext(2, \"Must be a positive numeric value.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction HomeComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n    i0.ɵɵtext(2, \" Your monthly payment: \");\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"span\", 7);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵtext(8, \"Interest paid over loan term: \");\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelementStart(10, \"span\", 7);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_7_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.backToForm());\n    });\n    i0.ɵɵtext(14, \" Back to Loan Form \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 2, ctx_r3.monthlyPayment));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 4, ctx_r3.totalInterest));\n  }\n}\nfunction HomeComponent_form_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 10);\n    i0.ɵɵlistener(\"ngSubmit\", function HomeComponent_form_8_Template_form_ngSubmit_0_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.onSubmit($event));\n    });\n    i0.ɵɵelementStart(1, \"mat-form-field\", 11)(2, \"mat-label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-form-field\", 11)(6, \"mat-label\");\n    i0.ɵɵtext(7, \"Interest\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"input\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"mat-form-field\", 11)(10, \"mat-label\");\n    i0.ɵɵtext(11, \"Number of Years\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"input\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function HomeComponent_form_8_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      ctx_r9.calculateLoan();\n      return i0.ɵɵresetView(ctx_r9.loanForm.reset());\n    });\n    i0.ɵɵtext(14, \" Calculate \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r4.loanForm);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r4.loanAmountPlaceHolder);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"disabled\", !ctx_r4.loanForm.valid);\n  }\n}\nexport class HomeComponent {\n  constructor(fb) {\n    this.fb = fb;\n    this.title = \"Welcome to the Loan Calculating Application!\";\n    this.resultTitle = \"Your Loan Results:\";\n    this.loanAmountPlaceHolder = \"Loan Amount\";\n    this.visibleForm = true;\n    this.visibleResults = false;\n    this.visibleGreeting = true;\n    this.visibleResultsH1 = false;\n    this.monthlyPayment = 0;\n    this.totalInterest = 0;\n    this.loanForm = new FormGroup({});\n  }\n  ngOnInit() {\n    let decimalRegex = /^(?:\\d*\\.\\d{1,2}|\\d+)$/;\n    this.loanForm = this.fb.group({\n      loanAmount: [\"\", Validators.compose([Validators.required, Validators.pattern(\"^[0-9]*$\")])],\n      numberOfYears: [\"\", Validators.compose([Validators.required, Validators.pattern(\"^[0-9]*$\")])],\n      interest: [\"\", Validators.compose([Validators.required, Validators.pattern(decimalRegex)])]\n    });\n  }\n  get form() {\n    return this.loanForm.controls;\n  }\n  onSubmit(event) {}\n  // Method that calculates monthly payment and total interest onclick\n  calculateLoan() {\n    this.visibleForm = false;\n    this.visibleResults = true;\n    this.visibleGreeting = false;\n    this.visibleResultsH1 = true;\n    const formValues = this.loanForm.value;\n    const loanAmount = formValues.loanAmount;\n    const numberOfYears = formValues.numberOfYears;\n    const interest = formValues.interest;\n    const numberOfPayments = numberOfYears * 12;\n    const monthlyInterest = interest / 1200;\n    // Calculating monthly payment\n    this.monthlyPayment = loanAmount * monthlyInterest / (1 - (1 + monthlyInterest) ** -numberOfPayments);\n    // Calculating total interest\n    this.totalInterest = this.monthlyPayment * numberOfPayments - loanAmount;\n    console.log(this.monthlyPayment.toFixed(2));\n    console.log(formValues);\n  }\n  //Back to cleared form\n  backToForm() {\n    this.visibleForm = true;\n    this.visibleResults = false;\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 9,\n  vars: 5,\n  consts: [[\"fxLayout\", \"column\", 1, \"blue\"], [\"class\", \"yellow\", 4, \"ngIf\"], [\"fxFlex\", \"\", 1, \"loan-form\"], [4, \"ngIf\"], [1, \"mat-elevation-z8\"], [1, \"light-blue\", \"results\"], [\"fxLayout\", \"column\", \"fxLayoutGap\", \"16px\", 3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [1, \"yellow\"], [1, \"msg-error\"], [\"id\", \"back-to-form\", 3, \"click\"], [\"fxLayout\", \"column\", \"fxLayoutGap\", \"16px\", 3, \"formGroup\", \"ngSubmit\"], [\"fxFlex\", \"\", \"appearance\", \"fill\"], [\"type\", \"text\", \"name\", \"txtLoanAmount\", \"required\", \"\", \"id\", \"txtLoanAmount\", \"matInput\", \"\", \"formControlName\", \"loanAmount\"], [\"type\", \"text\", \"name\", \"txtInterest\", \"required\", \"\", \"id\", \"txtInterest\", \"matInput\", \"\", \"formControlName\", \"interest\"], [\"type\", \"text\", \"name\", \"txtNumOfYears\", \"required\", \"\", \"id\", \"txtNumOfYears\", \"matInput\", \"\", \"formControlName\", \"numberOfYears\"], [\"type\", \"button\", \"mat-raised-button\", \"\", \"color\", \"accent\", 3, \"disabled\", \"click\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, HomeComponent_h1_1_Template, 2, 1, \"h1\", 1);\n      i0.ɵɵtemplate(2, HomeComponent_h1_2_Template, 2, 1, \"h1\", 1);\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵtemplate(4, HomeComponent_div_4_Template, 3, 0, \"div\", 3);\n      i0.ɵɵelementStart(5, \"mat-card\", 4)(6, \"mat-card-content\", 5);\n      i0.ɵɵtemplate(7, HomeComponent_div_7_Template, 15, 6, \"div\", 3);\n      i0.ɵɵtemplate(8, HomeComponent_form_8_Template, 15, 3, \"form\", 6);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.visibleGreeting);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.visibleResultsH1);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.form[\"loanAmount\"].errors && ctx.form[\"loanAmount\"].touched || ctx.form[\"numberOfYears\"].errors && ctx.form[\"numberOfYears\"].touched || ctx.form[\"interest\"].errors && ctx.form[\"interest\"].touched);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.visibleResults);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.visibleForm);\n    }\n  },\n  dependencies: [i2.NgIf, i3.DefaultLayoutDirective, i3.DefaultLayoutGapDirective, i3.DefaultFlexDirective, i4.MatCard, i4.MatCardContent, i5.MatButton, i6.MatFormField, i6.MatLabel, i7.MatInput, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName, i2.CurrencyPipe],\n  styles: [\"@import\\\"https://fonts.googleapis.com/css2?family=Carter+One&family=Kanit:wght@300&display=swap\\\";h1[_ngcontent-%COMP%]{text-align:center;margin-top:5%;font-family:Carter One,cursive;text-shadow:1px 8px 8px rgba(6,5,1,.6)}.loan-form[_ngcontent-%COMP%]{width:35%;margin:50px auto}.msg-error[_ngcontent-%COMP%]{margin:10px 0;padding:12px;color:#d8000c;background-color:#ffd2d2}#back-to-form[_ngcontent-%COMP%]{background-color:#fbbf2c;box-shadow:1px 8px 8px #06050199;font-family:Carter One,cursive}.results[_ngcontent-%COMP%]{text-align:center}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}